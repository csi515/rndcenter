<form method="POST" id="addInspectionForm">
    <!-- 기본 정보 섹션 -->
    <div class="form-section">
        <h6><i class="fas fa-info-circle"></i> 기본 정보</h6>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="equipment_id" class="form-label required-field">장비 선택</label>
                    <select class="form-control" id="equipment_id" name="equipment_id" required>
                        <option value="">장비를 선택하세요</option>
                        {% for equipment in equipment_list %}
                        <option value="{{ equipment.id }}">
                            {{ equipment.name }} ({{ equipment.equipment_id }})
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="inspection_date" class="form-label required-field">점검일</label>
                    <input type="date" class="form-control" id="inspection_date" name="inspection_date" 
                           value="{{ today }}" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="inspector" class="form-label required-field">점검자</label>
                    <input type="text" class="form-control" id="inspector" name="inspector" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="inspection_type" class="form-label">점검 유형</label>
                    <select class="form-control" id="inspection_type" name="inspection_type">
                        <option value="정기점검">정기점검</option>
                        <option value="수리후점검">수리후점검</option>
                        <option value="특별점검">특별점검</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- 점검 결과 섹션 -->
    <div class="form-section">
        <h6><i class="fas fa-clipboard-check"></i> 점검 결과</h6>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="result" class="form-label">점검 결과</label>
                    <select class="form-control" id="result" name="result">
                        <option value="정상">정상</option>
                        <option value="이상발견">이상발견</option>
                        <option value="수리필요">수리필요</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="next_inspection_date" class="form-label">다음 점검일</label>
                    <input type="date" class="form-control" id="next_inspection_date" name="next_inspection_date">
                    <small class="form-text text-muted">비워두면 1년 후로 자동 설정됩니다.</small>
                </div>
            </div>
        </div>
    </div>

    <!-- 상태 정보 섹션 -->
    <div class="form-section">
        <h6><i class="fas fa-tools"></i> 상태 정보</h6>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="condition_before" class="form-label">점검 전 상태</label>
                    <input type="text" class="form-control" id="condition_before" name="condition_before" 
                           placeholder="예: 정상, 소음 발생, 진동 등">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="condition_after" class="form-label">점검 후 상태</label>
                    <input type="text" class="form-control" id="condition_after" name="condition_after" 
                           placeholder="예: 정상, 수리 완료, 교체 완료 등">
                </div>
            </div>
        </div>
    </div>

    <!-- 상세 내용 섹션 -->
    <div class="form-section">
        <h6><i class="fas fa-file-alt"></i> 상세 내용</h6>
        <div class="form-group mb-3">
            <label for="findings" class="form-label">발견사항</label>
            <textarea class="form-control" id="findings" name="findings" rows="3" 
                      placeholder="점검 중 발견된 사항들을 기록하세요"></textarea>
        </div>

        <div class="form-group mb-3">
            <label for="actions_taken" class="form-label">조치사항</label>
            <textarea class="form-control" id="actions_taken" name="actions_taken" rows="3" 
                      placeholder="점검 후 취한 조치사항들을 기록하세요"></textarea>
        </div>

        <div class="form-group mb-3">
            <label for="notes" class="form-label">기타 메모</label>
            <textarea class="form-control" id="notes" name="notes" rows="2" 
                      placeholder="추가적인 메모사항"></textarea>
        </div>
    </div>
</form>

<script>
// 오늘 날짜를 기본값으로 설정
document.addEventListener('DOMContentLoaded', function() {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('inspection_date').value = today;
    
    // 다음 점검일 자동 계산 (1년 후)
    document.getElementById('inspection_date').addEventListener('change', function() {
        const inspectionDate = new Date(this.value);
        const nextDate = new Date(inspectionDate);
        nextDate.setFullYear(nextDate.getFullYear() + 1);
        document.getElementById('next_inspection_date').value = nextDate.toISOString().split('T')[0];
    });
});
</script> 